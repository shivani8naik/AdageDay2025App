{% extends "base.html" %}
{% block content %}

<!-- Hero Section -->
<section class="text-center py-10 px-6 bg-gradient-to-b from-[#008B94] to-[#00737A] text-white rounded-b-3xl shadow-lg">
  <p class="uppercase tracking-widest text-xs opacity-80">Adage Day {{ event.year }}</p>
  <h1 class="text-4xl font-bold leading-tight">Adage<br>Theme</h1>
  <p class="mt-2 text-sm opacity-90">{{ event.tagline }}</p>
  <p class="text-xs opacity-80 mt-1">{{ event.dates }}</p>
</section>

<!-- Countdown -->
<div class="text-center mt-6 max-w-xs mx-auto p-4 bg-white rounded-xl shadow-sm">
  <p class="text-xs text-gray-500">Countdown to Adage Day</p>
  <h2 id="countdown" class="text-xl font-bold text-[#008B94] mt-1"></h2>
  <p class="text-[11px] text-gray-400">Days ‚Ä¢ Hours ‚Ä¢ Minutes ‚Ä¢ Seconds</p>
</div>

<script>
const eventDate = new Date("2025-11-29T09:00:00").getTime();
setInterval(() => {
  const now = new Date().getTime();
  const diff = eventDate - now;
  if (diff > 0) {
    const d = Math.floor(diff / (1000 * 60 * 60 * 24));
    const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    const s = Math.floor((diff % (1000 * 60)) / 1000);
    document.getElementById("countdown").innerText = `${d}d : ${h}h : ${m}m : ${s}s`;
  }
}, 1000);
</script>

<!-- MD Message Highlight -->
<a href="{{ url_for('message') }}" class="block mt-6 max-w-md mx-auto">
  <div class="flex items-center gap-4 p-4 bg-gradient-to-r from-white to-[#F4FBFB] rounded-xl shadow-md 
              hover:shadow-lg transition relative border border-[#008B94] animate-[pulse_4s_ease-in-out_infinite]">

    <!-- Image -->
    <img src="{{ url_for('static', filename='uploads/images/md_photo.png') }}"
         class="w-16 h-16 rounded-full object-cover border-4 border-[#008B94] shadow-md"
         alt="Managing Director">

    <div>
      <p class="text-[11px] text-gray-500 font-medium tracking-wide">
        ‚úâ Message from
      </p>
      <p class="text-sm font-bold text-[#008B94]">
        Managing Director ‚Üí
      </p>
    </div>
  </div>
</a>

<!-- Event Cards -->
<div class="mt-6 flex overflow-x-auto gap-4 px-4 no-scrollbar">
  {% for icon, title, time, page, day in [
    ('‚öΩ','Sports Day','29th Morning','schedule_page','1'),
    ('üèÜ','Awards Night','29th Evening','schedule_page','1'),
    ('üì∏','Photoshoot','30th Morning','schedule_page','2'),
    ('üéâ','Gala Night','30th Evening','schedule_page','2')
  ] %}
  <a href="{{ url_for(page) }}?day={{day }}" 
     class="shrink-0 w-36 bg-white rounded-xl p-4 text-center shadow hover:shadow-lg transition">
    <div class="text-3xl">{{ icon }}</div>
    <p class="font-semibold mt-1 text-sm">{{ title }}</p>
    <p class="text-xs text-gray-500">{{ time }}</p>
  </a>
  {% endfor %}
</div>


<!-- Latest Announcements -->
<section class="max-w-md mx-auto px-4 mt-10 mb-20">
  <h2 class="text-lg font-semibold mb-2">Latest Updates</h2>
  
  {% for ann in announcements[:3] %}
  <div class="p-4 bg-white rounded-lg shadow-sm border-l-4 mb-3
      {% if ann.tag == 'Important' %}border-red-500
      {% elif ann.tag == 'Reminder' %}border-yellow-500
      {% else %}border-[#008B94]{% endif %}">
    <p class="text-xs text-gray-400 uppercase">{{ ann.tag }}</p>
    <p class="font-semibold">{{ ann.title }}</p>
    <p class="text-sm text-gray-600">{{ ann.text }}</p>
  </div>
  {% endfor %}

  <a href="{{ url_for('announcements_page') }}" class="text-[#008B94] text-sm font-semibold">
    View All ‚Üí
  </a>
</section>

<!-- Pulse Animation (Global) -->
<style>
@keyframes pulse {
  0%, 100% { box-shadow: 0 0 0px rgba(0,0,0,0.05); }
  50% { box-shadow: 0 0 14px rgba(0,139,148,0.15); }
}
</style>

{% endblock %}
